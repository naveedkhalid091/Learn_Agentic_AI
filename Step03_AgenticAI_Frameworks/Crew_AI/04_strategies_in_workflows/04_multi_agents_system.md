## Connecting mutli-agents together:

1. Create a project using below command:

```bash
crewai create flow ProjectName
```

Suppose you have given the project name as `multiple-agents`

2. Navigate to the project directory
3. Go to the `.env` and set the Gemini-keys & model.
4. Go to the crews folder (created automatically) under the src and create an another folder `dev_crew`.
5. Create `config` folder inside `dev_crew` and create the `agents.yaml` and `tasks.yaml` files inside the `config` folder.
6. Write following code configurations inside the `agents.yaml` file to create multi agents.

**For Example:**

```yaml
junior_python_developer:
  role: >
    Junior Python Developer
  goal: >
    Write python code solution without type hints. for this problem '{problem}'.
  backstory: >
    You have 3 years of python web development experience.
    you know how to use flask, django,

senior_python_developer:
  role: >
    Senior Python Developer
  goal: >
    review the python code generated by junior python developer for this problem '{problem}'.
    apply type hints to the code.
    apply pydocs
    write 3 pytest tests for the code.
  backstory: >
    You have 20 years of experience in Machine Learning, Deep Learning, Generative AI, Agentic AI and Python.
    you have good commands in crewai, langgraph, AutoGen.
```

8. Write following code configurations inside the `tasks.yaml` file to create multi agents.

```yaml
write_code:
    description: >
      You have to write python solution without python type hints for this problem '{problem}'
      Ensure the poem is engaging and adheres to the specified sentence count of {sentence_count}.
  expected_output: >
    return python code only
  agent: junior_python_developer

review_code:
  description: >
    You have to review the python code generated by junior_python_developer for this problem '{problem}'
    apply python type hints
    apply pydocs
    write 3 pytest for the code
  expected_output: >
    return python code only
  agent: senior_python_developer
```

9. Create a file `dev_crew.py` file under the dev_crew folder and add the following code into the `dev_crew.py` file.

```python
from crewai import Agent, Crew, Process, Task
from crewai.project import CrewBase, agent, crew, task

@CrewBase
class DevCrew:
    agents_config = "config/agents.yaml"
    tasks_config = "config/tasks.yaml"

    @agent
    def junior_python_developer(self) -> Agent: # function name should same as agents.yaml file
        return Agent(
            config=self.agents_config["junior_python_developer"],
        )

    @agent
    def senior_python_developer(self) -> Agent: # function name should same as agents.yaml file
        return Agent(
            config=self.agents_config["senior_python_developer"],
        )

    @task
    def write_code(self) -> Task: # function name should same as tasks.yaml file
        return Task(
            config=self.tasks_config["write_code"],
        )

    @task
    def review_code(self) -> Task: # function name should same as tasks.yaml file
        return Task(
            config=self.tasks_config["review_code"],
        )

    @crew
    def crew(self) -> Crew:
        return Crew(
            agents=self.agents,  # Automatically created by the @agent decorator
            tasks=self.tasks,  # Automatically created by the @task decorator
            process=Process.sequential,
            verbose=True,
        )
```

10. Now connect `dev_crew.py` with `main1.py` file as follows:

```python
from crewai.flow import Flow, start, listen
from multiple_agents.crews.dev_crew.dev_crew import DevCrew

class DevFlow(Flow):

    @start()
    def run_dev_crew(self):
        output=DevCrew().crew().kickoff(
            inputs={
                "problem":"Write python code for addition two numbers"
            }
        )
        return output

def multiagent():
    dev_flow= DevFlow()
    result=dev_flow.kickoff()
    print(result)

```

11. Now we need to connect our code with `toml` file to run the code in terminal.

```toml
[project.scripts]
two_agents="multiple_agents.main1:multiagent"
```

12. Finally run the command in terminal to see the result of multi agents.

```bash
uv run two_agents
```

**Note: You can see the project `multiple_agents` in project section
**
